<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <!-- This is what supports JSX compilation (and other transformations) -->
    <script src="https://unpkg.com/@babel/standalone@7.10.3/babel.min.js"></script>
    <!-- These are for React -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.development.js"></script>
    <link rel="stylesheet" href="municipal-mischief-home.css">
</head>

<body>
    <script type="text/babel" data-presets="react,stage-3">
        /*
                const locations = [
                    {
                        "id": "H1",
                        "name": "Albany City Hall",
                        "placement": {
                            "left": "39%",
                            "top": "32%"
                        },
                        "address": "24 Eagle St.",
                        "description": "Albany’s City Hall was the epicenter to a century-long legacy of machine politics – among the most storied examples of bare knuckle machine politics found anywhere in the U.S.",
                        "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/city-hall.jpeg",
                        "imageCredit": "UpstateNYer, CC BY-SA 3.0 , via Wikimedia Commons",
                        "linkSectionName": "Political Machines",
                        "linkSectionURL": "https://museumofpoliticalcorruption.org/political-machines/"
                    },
                    {
                        "id": "H2",
                        "name": "Kenmore Hotel",
                        "placement": {
                            "left": "54%",
                            "top": "35%"
                        },
                        "address": "74 North Pearl St.",
                        "description": "With its famous “Rain-Bo Room,” the Kenmore was a frequent hang out for the notorious gangster Jack “Legs” Diamond, where he would womanize, drink, and plot with conspirators.",
                        "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/kenmore-hotel.jpg",
                        "imageCredit": "Photo by Chuck Miller",
                        "linkSectionName": "The Hotels",
                        "linkSectionURL": "https://museumofpoliticalcorruption.org/the-hotels/"
                    },
                    {
                        "id": "H3",
                        "name": "The Albany Evening Journal",
                        "placement": {
                            "right": "30%",
                            "bottom": "4%"
                        },
                        "address": "Corner of Division Street and Broadway",
                        "description": "Run by William \"Billy\" Barnes, the Albany Evening Journal was the Republican newspaper in Albany.",
                        "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/the-albany-evening-journal.jpeg",
                        "imageCredit": "Beyond My Ken, CC BY-SA 4.0, via Wikimedia Commons",
                        "linkSectionName": "The Newspapers",
                        "linkSectionURL": "https://museumofpoliticalcorruption.org/the-newspapers/"
                    },
                    {
                        "id": "H4",
                        "name": "Albany Argus Newspaper",
                        "placement": {
                            "right": "37%",
                            "bottom": "7%"
                        },
                        "address": "Corner of Broadway and Beaver Street",
                        "description": "The Albany Argus newspaper was the voice of local Democrats.",
                        "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/11/absolutvision-WYd_PkCa1BY-unsplash-scaled.jpg",
                        "imageCredit": "Photo by AbsolutVision on Unsplash",
                        "linkSectionName": "The Newspapers",
                        "linkSectionURL": "https://museumofpoliticalcorruption.org/the-newspapers/"
                    },
                    {
                        "id": "H5",
                        "name": "Albany Times Union",
                        "placement": {
                            "left": "48%",
                            "top": "8%"
                        },
                        "address": "16 Sheridan Ave.",
                        "description": "Now politically independent, the Times Union had been squarely in the Democratic machine’s pockets.",
                        "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/albany-times-union.jpg",
                        "imageCredit": "Photo by Chuck Miller",
                        "linkSectionName": "The Newspapers",
                        "linkSectionURL": "https://museumofpoliticalcorruption.org/the-newspapers/"
                    }
                ]
        */

        const Category = (props) => {
            const { name, description, link } = props
            return (
                <div class="col-sm-3 mb-3">
                    <a href={link} className="category-link">
                        <div class="card h-100" style={{ borderRadius: "0px" }}>
                            <div class="card-body text-center">
                                <p class="mm-card-title">{name}</p>
                                <p class="mm-card-text">{description}</p>
                            </div>
                        </div>
                    </a>
                </div>
            )
        }

        const GalleryView = () => {
            const categories = [
                {
                    "name": "Political Machines",
                    "link": "https://museumofpoliticalcorruption.org/political-machines/",
                    "description": "A political machine was a system for a party to maintain  power, often through patronage, nepotism, kickbacks, extortion or through other illegal or unethical means. "
                },
                {
                    "name": "The Hotels",
                    "link": "https://museumofpoliticalcorruption.org/the-hotels/",
                    "description": "Albany’s historic hotels, many of which no longer exist, offered a way station for travelers and a destination  where the rich and powerful could influence local and  state politics. "
                },
                {
                    "name": "The Newspapers",
                    "link": "https://museumofpoliticalcorruption.org/the-newspapers/",
                    "description": "Long before today’s left and right leaning media outlets, Albany, like many cities, had newspapers that catered specifically to Democrats and those that specifically catered to Republicans.  "
                },
                {
                    "name": "The Fight Against Corruption",
                    "link": "https://museumofpoliticalcorruption.org/municipal-mischief-the-fight-against-corruption/",
                    "description": "In the 1940’s Governor Thomas E. Dewey initiated investigations into the seemingly indestructible Corning-O’Connell machine, but the investigations proved largely unsuccessful. "
                }
            ]

            const categoriesList = categories.map((category, index) => {
                const { name, link, description } = category
                return <Category name={name} link={link} description={description} />
            })

            return (
                <>
                    <div className="d-flex align-items-center justify-content-center" style={{ marginTop: "40px" }}>
                        <p className="directions"><b>Learn more about local corruption and anti-corruption efforts in Albany by selecting a category below.</b></p>
                    </div>
                    <div className="row" style={{ maxWidth: "100%", margin: "auto", marginBottom: "40px" }}>
                        {categoriesList}
                    </div>
                </>
            )

        }

        const LocationHotSpot = (props) => {
            const { location } = props
            const { id, placement, name, description, address, image, imageCredit, linkSectionName, linkSectionURL } = location
            const dataBsTarget = "#" + id

            return (
                <>
                    <a className="hotspot" data-bs-target={dataBsTarget} data-bs-toggle="modal" style={placement}>
                        <div className="hotspot-outer-circle"></div>
                        <div className="hotspot-inner-circle"></div>
                    </a>
                    <div className="modal" tabIndex="-1" id={id}>
                        <div className="modal-dialog">
                            <div className="modal-content text-center" style={{ borderRadius: "16px", border: "none" }}>
                                <div className="modal-header" style={{ borderTopLeftRadius: "16px", borderTopRightRadius: "16px" }}>
                                    <h3 className="modal-title">{name}</h3>
                                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div className="modal-body">
                                    <img src={image} alt={name} className="modal-image img-fluid" />
                                    <span className="image-credit" >{imageCredit}</span>
                                    <br />
                                    <br />
                                    <p className="location-details">{address}</p>
                                    <p className="location-details"><b>{description}</b></p>
                                    <p className="location-details">Learn more about it in <a className="location-to-page-link" href={linkSectionURL}>{linkSectionName}</a>.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </>
            )
        }

        const MapView = () => {

            const { useEffect, useState } = React
            const [locations, setLocations] = useState([]);

            useEffect(() => {
                fetch("https://museumofpoliticalcorruption.org/wp-content/uploads/2024/03/municipal-mischief-locations.json")
                    .then(response => response.json())
                    .then(data => {
                        setLocations(data)
                    })
            }, [])


            const locationHotspots = locations.map((location, index) => {
                return <LocationHotSpot location={location} key={index} />
            })

            return (
                <>
                    <div className="municipal-mischief-map-view">
                        <div className="d-flex align-items-center justify-content-center" style={{ marginTop: "40px" }}>
                            <p className="directions"><b>Click on the hotspots to learn about each of the locations.</b></p>
                        </div>
                        <div className="hotspots">
                            <img className="downtown-albany-map" src="https://museumofpoliticalcorruption.org/wp-content/uploads/2023/09/downtownAlbanyMap.png" alt="Map of Downtown Albany" />
                            {locationHotspots}
                        </div>
                        <p className="walking-tour-text">Check out our <a href="https://soundcloud.com/user-858708692/mpc-audio-tour_final" target="_blank" className="walking-tour-link">walking audio tour</a> alongside its <a href="https://drive.google.com/file/d/176wwQ1uNYMuTVnb1TLPoE_zfZoFntRqP/view" target="_blank" className="walking-tour-link">accompanying downloadable map</a>.</p>
                    </div>
                </>
            )
        }

        const TheMunicipalMischiefHomePage = () => {
            const { useEffect, useState } = React

            const [galleryView, setGalleryView] = useState(true)

            const handleToggle = (value) => {
                setGalleryView(value)
            }

            const activeToggle = "toggle-btn active-btn"
            const inactiveToggle = "toggle-btn inactive-btn"

            return (
                <>
                    <nav className="albany-room-breadcrumbs" aria-label="breadcrumb" style={{ maxWidth: "100%", margin: "auto" }}>
                        <ol class="breadcrumb" style={{ backgroundColor: "#fefdfe" }}>
                            <li className="breadcrumb-item"><a href="https://museumofpoliticalcorruption.org/the-albany-room/" className="inactive-link albany-room-home-link"><li>The Albany Room Home</li></a></li>
                            <li className="breadcrumb-item active current-page" aria-current="page">Municipal Mischief Home</li>
                        </ol>
                    </nav>

                    <p className="page-title">Municipal Mischief</p>

                    <div className="toggle-view-div d-flex">
                        <div className={galleryView ? activeToggle : inactiveToggle} onClick={() => handleToggle(true)}>Gallery</div>
                        <div className={!galleryView ? activeToggle : inactiveToggle} onClick={() => handleToggle(false)}>Map</div>
                    </div>

                    <div className="toggle-and-views">
                        {
                            galleryView ? <GalleryView /> : <MapView />
                        }
                    </div>
                </>);
        };

        ReactDOM.render(<TheMunicipalMischiefHomePage />, document.getElementById("root"));
    </script>

    <div id="root"></div>
</body>