<head>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@babel/standalone@7.10.3/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.development.js"></script>
    <link rel="stylesheet" href="the-newspapers.css">
</head>

<body>

    <script type="text/babel" data-presets="react,stage-3">

        const TheNewspapersPage = () => {
            const { useEffect, useState } = React

            const questions = [
                {
                    questionText: 'Which political party did the Albany Evening Journal promote?',
                    answerOptions: [
                        { answerText: 'Democratic', isCorrect: false },
                        { answerText: 'Republican', isCorrect: true },
                        { answerText: 'Independent', isCorrect: false },
                    ],
                    answerDescription: "The Albany Evening Journal was Republican…eventually. Thurlow Weed started The Albany Evening Journal to support Anti- Masonry in 1830, but soon began to support the Whig Party.When the Whig party dissolved, he and his newspaper began supporting the new Republican party around 1854."
                },
                {
                    questionText: 'Which political party did the Albany Argus promote?',
                    answerOptions: [
                        { answerText: 'Democratic', isCorrect: true },
                        { answerText: 'Republican', isCorrect: false },
                        { answerText: 'Independent', isCorrect: false },
                    ],
                    answerDescription: "The Albany Argus Newspaper was Democratic but, it depends on the date. The Albany Argus was published as a semiweekly newspaper beginning in 1813, well before the modern Democratic Party began coalescing in the 1840’s and before the name was officially adopted in 1844."
                },
                {
                    questionText: 'Which political party did the Albany Times Union promote?',
                    answerOptions: [
                        { answerText: 'Democratic', isCorrect: false },
                        { answerText: 'Republican', isCorrect: false },
                        { answerText: 'Independent', isCorrect: true },
                    ],
                    answerDescription: "The Albany Times Union was mostly independent. In 1856, the first issue of The Albany Times Union stated: 'There has been a very general demand for a new paper, which shall INFLEXIBLY adhere to a INDEPENDENCE OF ALL PARTIES, SECTS, OR FACTIONS, and be free from the alloy of incessant political and sectarian controversies.' The Times Union has undergone many changes over its 160+ years operation, but today it is known for factual, politically neutral reporting."
                },
            ];

            const [currentQuestion, setCurrentQuestion] = useState(0)
            const [showScore, setShowScore] = useState(false)
            const [score, setScore] = useState(0)
            const [isAnswerCorrect, setIsAnswerCorrect] = useState(false)
            const [showAnswerDescription, setShowAnswerDescription] = useState(false)
            const [isDisabled, setIsDisabled] = useState(false)

            const handleAnswerOptionClick = (isCorrect) => {
                setShowAnswerDescription(true)
                setIsDisabled(true)
                if (isCorrect) {
                    setScore(score + 1)
                    setIsAnswerCorrect(true)
                } else {
                    setIsAnswerCorrect(false)
                }
            };

            const handleNextQuestion = () => {
                setIsDisabled(false)
                const nextQuestion = currentQuestion + 1
                if (nextQuestion < questions.length) {
                    setCurrentQuestion(nextQuestion)
                    setShowAnswerDescription(false)

                } else {
                    setShowScore(true)
                }
                console.log("Next question...")
            }

            const handleRetake = () => {
                setShowScore(false)
                setScore(0)
                setCurrentQuestion(0)
                setShowAnswerDescription(false)
                setIsDisabled(false)
            }

            return (
                <>
                    <nav className="albany-room-breadcrumbs" aria-label="breadcrumb" style={{ maxWidth: "100%", margin: "auto" }}>
                        <ol className="breadcrumb" style={{ backgroundColor: "#fefdfe" }}>
                            <li className="breadcrumb-item"><a href="https://museumofpoliticalcorruption.org/the-albany-room/"
                                className="inactive-link">The Albany Room Home</a></li>
                            <li className="breadcrumb-item"><a href="https://museumofpoliticalcorruption.org/municipal-mischief/"
                                className="inactive-link">Municipal Mischief Home</a></li>
                            <li className="breadcrumb-item active current-page" aria-current="page">The Newspapers</li>
                        </ol>
                    </nav>

                    <p className="page-title">The Newspapers</p>

                    <p className="introduction-text">One of the earliest forms of social media, newspapers helped influence public opinion, and were not infrequently used to promote the interests of their owners and influential politicians.</p>

                    {showScore ? (
                        <>
                            <div className='quiz'>
                                <div className='score-section'>
                                    You scored {score} out of {questions.length}
                                </div>
                            </div>
                            <button onClick={() => handleRetake()}>Retake Quiz</button>
                        </>
                    ) : (
                        <>
                            <div className='quiz'>
                                <div className='question-section'>
                                    <div className='question-count'>
                                        <span>Question {currentQuestion + 1}</span>/{questions.length}
                                    </div>
                                    <div className='question-text'>{questions[currentQuestion].questionText}</div>
                                </div>
                                <div className='answer-section'>
                                    {questions[currentQuestion].answerOptions.map((answerOption) => (
                                        <button disabled={isDisabled} onClick={() => handleAnswerOptionClick(answerOption.isCorrect)}>{answerOption.answerText}</button>
                                    ))}
                                </div>
                            </div>
                            {
                                showAnswerDescription &&
                                (<>
                                    <div className="answer-description">
                                        {isAnswerCorrect ? <h1>That's correct!</h1> : <h1>Oops, that's incorrect!</h1>}
                                        <p>{questions[currentQuestion].answerDescription}</p>
                                    </div>

                                    <button onClick={() => handleNextQuestion()}>Next</button>
                                </>)
                            }
                        </>
                    )}
                </>)
        }

        ReactDOM.render(<TheNewspapersPage />, document.getElementById("root"));
    </script>

    <div id="root"></div>
</body>